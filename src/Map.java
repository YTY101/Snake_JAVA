package src;

import java.util.ArrayList;

public class Map {
    private int Height;
    private int Width;
    private String map;
    private ArrayList<Portal> portals;

    public Map(){
        initMap();
        initPortals();
    }

    public Map(int height, int width, String m){
        initMap(height, width, m);
        initPortals();
    }

    public void initPortals(){
        portals = new ArrayList<Portal>();

        portals.add(new Portal(0, 0, 30, 30));

        StringBuilder sb = new StringBuilder(map);
        for(Portal portal : portals){
            sb.setCharAt(portal.getA().getY() * Width + portal.getA().getX(), '$');
            sb.setCharAt(portal.getB().getY() * Width + portal.getB().getX(), '￥');
        }
        map = sb.toString();
    }

    //地图构造
    private void initMap(){
        Height = 40; 
        Width = 40;
        map = "";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................"; 
        map += "........................................";
        map += "........................................";
        map += "...........@@@@@@@@@....................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
        map += "........................................";
    }
    private void initMap(int height, int width, String m){
        Height = height;
        Width = width;
        map = m;
    }

    public int getHeight(){
        return Height;
    }
    public int getWidth(){
        return Width;
    } 

    public String getMap(){
        return map;
    }

    public ArrayList<Portal> getPortals(){
        return portals;
    }

}
